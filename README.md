# SRT Prohibited Word Filter

## 概要
SRT形式の字幕ファイル (`.srt`) から、指定した禁止語句を検索し、その出現タイムスタンプを報告するツールです。

## 機能
- `input` フォルダ内の全SRTファイルを自動でスキャンします。
- `prohibited_words.txt` ファイルで、検索する禁止語句を簡単にカスタマイズできます。
- 発見された単語とタイムスタンプを、ファイルごとに整理して分かりやすく表示します。

## 作成理由
私は配信者の切り抜き動画をAIで自動生成する仕組みを個人開発していました。  
具体的には「動画ダウンロード → Whisperによる文字起こし → LLMによる要約・切り抜き箇所の選定」という流れです。  

しかし、Whisperによる文字起こしでは誤変換が発生し、本来意図しない不適切な単語が含まれてしまうことがあります。  
その結果、LLMが危険な入力と判断してエラーを出し、処理が止まってしまう課題がありました。  

この課題を解決するために、本ツールを開発しました。  
字幕ファイル中の不適切語を事前に検出することで、**自動化全体の安定性向上**と**リスク低減**を実現しています。

## ファイル構成
```
.
├── input/
│   └── (ここにチェックしたいSRTファイルを置く)
├── prohibited_words.txt
├── SRTFilter.py
└── README.md
```
- `SRTFilter.py`: メインの処理を実行するPythonスクリプトです。
- `prohibited_words.txt`: 検索したい禁止語句を1行に1つずつ記述するファイルです。
- `input/`: 検査対象のSRTファイル (`.srt`) を配置するフォルダです。

## 使い方

### 1. 準備
1. `input/` フォルダの中に、チェックしたいSRTファイルを入れます。
2. `prohibited_words.txt` をテキストエディタで開き、検索したい禁止語句を1行に1つずつ記述して保存します。

### 2. 実行
ターミナル（コマンドプロンプト）を開き、このフォルダに移動して、以下のコマンドを実行します。
```sh
python SRTFilter.py
```

## 出力例

### 禁止語句が発見された場合
```
Your_Subtitle_File.srt
NG_Word1 [00:10:25:123]
NG_Word2 [00:15:30:456]

```

### 禁止語句が発見されなかった場合
```
Your_Subtitle_File.srtに禁止語句はありません

```

### エラー: 対象ファイルがない場合
```
エラー: srtファイルが見つかりません。
```

## 前提条件
- [Python 3](https://www.python.org/downloads/) がインストールされていること。
